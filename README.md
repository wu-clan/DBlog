# Djangoåšå®¢ç³»ç»Ÿ

psï¼šé¡¹ç›®åŸºæœ¬å®Œæˆï¼Œå¤„äºè¯•è¿è¡Œé˜¶æ®µï¼Œç¤ºä¾‹ç½‘ç«™ä¸ºå½“å‰åˆ†æ”¯æœ€æ–°ä»£ç ï¼Œ

å¦‚æœæ‚¨æƒ³æŸ¥çœ‹æ—§ç‰ˆæœ¬ï¼Œå¯ä»¥åˆ°æ ‡ç­¾ä¸­é€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬è¿›è¡Œä¸‹è½½

[![python3](https://img.shields.io/badge/Python-3.8-red.svg)](https://www.python.org/downloads)
[![Django3.2](https://img.shields.io/badge/Django-3.2.4-green.svg)](https://docs.djangoproject.com/zh-hans/3.2)
[![simpleui](https://img.shields.io/badge/developing%20with-Simpleui-2077ff.svg)](https://github.com/newpanjing/simpleui)

ğŸ™ˆğŸ™ˆğŸ™ˆ ä½¿ç”¨Djangoå¿«é€Ÿæ­å»ºåšå®¢ç³»ç»Ÿï¼Œé‡‡ç”¨Djangoæ¡†æ¶æœ€åŸºç¡€ç»“æ„ï¼ˆä»…ä¸€ä¸ªappï¼‰

ä¼˜ç‚¹ï¼šå‡å°‘é€»è¾‘æ€§ï¼Œä¾¿äºå…¥é—¨å­¦ä¹ ...

ç¼ºç‚¹ï¼šå†…å®¹æ²‰ä½™ï¼Œä¸å¤Ÿçµæ´»...

### åŸºæœ¬è¦æ±‚
* Python: 3.8
* Django: 3.2.4
* Mysql: 8
* Redis

### ç¤ºä¾‹åšå®¢ï¼šhttp://www.xwboy.top/ 

### åŠŸèƒ½ç‚¹
* ç”¨æˆ·æ³¨å†Œï¼Œç™»å½•ï¼Œç™»å‡ºï¼Œæ³¨é”€ï¼Œå¯†ç é‚®ç®±éªŒè¯é‡ç½®ï¼ˆé django-auth éªŒè¯æ–¹å¼ï¼‰
* markdownæ–‡ç« æ¸²æŸ“ï¼Œä»£ç é«˜äº®ï¼Œæ”¯æŒåå°markdownç¼–å†™æ–‡ç« ç­‰
* æ–‡ç« åˆ†ç±»ï¼Œå½’æ¡£ï¼Œå¿«æ·æœç´¢ï¼Œæ ‡ç­¾é›†
* 4 ç§çš®è‚¤ï¼ˆæ¸…æ–°ï¼Œæ¸…çˆ½ï¼Œç®€çº¦ï¼Œæš—é»‘ï¼‰åˆ‡æ¢
* æ–‡ç« æ’è¡Œæ¦œ / æœ€æ–°è¯„è®º / é˜…è¯»é‡æ’è¡Œæ¦œ
* åšæ–‡è¯„è®ºç³»ç»Ÿï¼ˆä»…åŸºæœ¬åŠŸèƒ½ï¼‰
* å¤šç›®æ ‡æºåšæ–‡åˆ†äº«ï¼ˆæ”¯æŒhttpsï¼‰
* echarts åšæ–‡å‘å¸ƒï¼Œæ ‡ç­¾ç»Ÿè®¡å›¾ï¼ˆæŠ˜çº¿å›¾ï¼Œé¥¼å›¾ï¼Œæ¢¯å½¢å›¾ï¼‰
* æ–‡ç« åˆ†ç±» é›·è¾¾ç»Ÿè®¡å›¾ï¼ˆé›·è¾¾å›¾ï¼‰
* ç½‘ç«™é…ç½®æ•°æ® redis ç¼“å­˜
* windows: django-gzipå‹ç¼©ä¸»ç«™ï¼Œlinux: nginx-gzipå‹ç¼©å…¨ç«™
* Rss / Atom è®¢é˜…
* æ”¯æŒå›¾åºŠï¼Œåå°ä¸Šä¼ å›¾ç‰‡å¯ç›´é“¾è®¿é—®åŠè°ƒç”¨
* simpleuiåå°ç®¡ç†


###### ps: å¦‚æœè®¿é—®ç½‘ç«™æœŸé—´ï¼Œä½ ä½¿ç”¨äº†æŸäº›å¢™ä»£ç†ç½‘ç»œï¼Œä¼šå¤±å»ä¸€äº›ç½‘é¡µåŠŸèƒ½ ï¼ï¼ï¼

## â¬‡ æºç ä¸‹è½½
```
wget https://gitee.com/wu_cl/DBlog.git/master.zip
or
git clone https://gitee.com/wu_cl/DBlog.git
```

### å®‰è£…
```
1ï¼špip install -r requirements.txt  # å®‰è£…æ‰€æœ‰ä¾èµ–

2ï¼šåˆ›å»ºæ•°æ®åº“ï¼Œä¿®æ”¹setting.py mysqlæ•°æ®åº“é…ç½® (åˆ›å»ºæ•°æ®åº“æ—¶è®°å¾—é€‰æ‹© utf8mb4 ç¼–ç )

2.5: é…ç½®ç•…è¨€ï¼šåˆ° http://changyan.kuaizhan.com/ æ³¨å†Œç«™ç‚¹,
å°†templates/blog/component/changyan.htmlä¸­jséƒ¨åˆ†æ¢æˆä½ åœ¨ç•…è¨€jsã€‚
ç•…è¨€jsä½ç½®: ç•…è¨€è¿›å…¥å·¥ä½œå°->å®‰è£…ç•…è¨€->é€šç”¨ä»£ç å®‰è£…->è‡ªé€‚åº”å®‰è£…ä»£ç 

3ï¼špython manage.py makemigrations
4ï¼špython manage.py migrate
5ï¼špython manage.py runserver
```

### ä½¿ç”¨
```python
# åˆå§‹åŒ–ç”¨æˆ·åå¯†ç ï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç å³å¯
python manage.py createsuperuser

# ç™»å½•åå° ç¼–è¾‘ç±»å‹ã€æ ‡ç­¾ã€å‘å¸ƒæ–‡ç« ç­‰
http://127.0.0.1:8000/admin

# å¸¸è§æŠ¥é”™ï¼š
django.db.utils.IntegrityError: (1048, "Column 'last_login' cannot be null")
æ‰§è¡Œ python manage.py migrate auth å, å†åˆ›å»ºç”¨æˆ·å³å¯
```
### END:
æµè§ˆå™¨ä¸­æ‰“å¼€ <http://127.0.0.1:8000/> å³å¯è®¿é—®

---
## ğŸ™ æ­å»ºLinuxæœåŠ¡ç«¯
```python
# å‰ææ¡ä»¶
ä½ å·²ç»æˆåŠŸåœ¨windowséƒ¨ç½²å¹¶è¿è¡Œè¿‡DBlogé¡¹ç›®

# ç¤ºä¾‹ç¯å¢ƒï¼ˆå…¨è¿‡ç¨‹å·²ç¤ºä¾‹ç¯å¢ƒä¸ºåŸºç¡€ï¼‰
Ubuntu-20.04, nginx-1.18.0, uwsgi, mysql-8, python-3.8, redis-server

# linuxæ–‡ä»¶å¤¹ä¸­æä¾›äº†é…ç½®çš„å‚è€ƒæ–‡ä»¶
nginx_conf: nginx é…ç½®æ–‡ä»¶(https)
uwsgi.py: å¼€æœºè‡ªå¯åŠ¨æœåŠ¡è„šæœ¬
uwsgi.sh: ç”¨äºè°ƒç”¨è‡ªå¯åŠ¨æœåŠ¡è„šæœ¬çš„shellè„šæœ¬
```

### ç¯å¢ƒå‡†å¤‡
```python
å·²å®‰è£…Ubuntu-20.04,è¿›å…¥linuxç³»ç»Ÿ,æ‰“å¼€å‘½ä»¤è¡Œçª—å£

1, cd /home, å°† windows é¡¹ç›®æ‹·è´è‡³ /home ç›®å½•ä¸‹
   # ä¸å»ºè®®ç›´æ¥å°†é¡¹ç›®ä¸‹è½½åˆ°linuxï¼Œå¯¹äºåˆå­¦è€…ï¼Œè¿™æ˜¯ä¸å‹å¥½çš„ï¼Œ
   # å¯ä»¥ä¸‹è½½å’Œä½¿ç”¨â€˜winscpâ€™è¿›è¡Œwindowsä¸linuxä¹‹é—´çš„æ‹–æ‹½æ“ä½œ  

2, pip3 install uwsgi

3, å®‰è£… mysql8 å’Œ redis
   ç™¾åº¦: Ubuntu-20.04 å®‰è£… mysql8 å¹¶åˆ›å»ºæ•°æ®åº“
   ç™¾åº¦: Ubuntu-20.04 å®‰è£… redis

4, å°†å‚è€ƒæ–‡ä»¶ nginx_conf æ–‡ä»¶ä¸­çš„å†…å®¹æ›¿æ¢åˆ° /etc/nginx/sites-enabled/default æ–‡ä»¶ä¸­, æ³¨æ„æ˜¯æ›¿æ¢å†…å®¹,ä¸æ˜¯ç›´æ¥æ›¿æ¢æ–‡ä»¶,å¦‚æœç½‘ç«™æœªä½¿ç”¨https,è¯·ç™¾åº¦django nginxé…ç½®,å†ä¿®æ”¹æ–‡ä»¶å†…å®¹

5, å°†å‚è€ƒæ–‡ä»¶ uwsgi.sh æ‹·è´åˆ° /etc/init.d/ ç›®å½•ä¸‹, å¹¶è¿›å…¥ /etc/init.d/ ç›®å½•æ‰§è¡Œ chmod 755 uwsgi.sh èµ‹äºˆè¯¥è„šæœ¬æƒé™

ps: ä¹‹æ‰€ä»¥è®©ç™¾åº¦,æ˜¯å› ä¸ºç»†èŠ‚å¤ªå¤šäº†...
```

### å®‰è£…
```
1: cd /home/DBlog, æ‰§è¡Œ pip install -r requirements.txt  # å®‰è£…æ‰€æœ‰ä¾èµ–

2: ä¿®æ”¹setting.py mysqlæ•°æ®åº“é…ç½®

3: python manage.py makemigrations
4: python manage.py migrate
5: python manage.py runserver
```

### ä½¿ç”¨
```python
# åˆå§‹åŒ–ç”¨æˆ·åå¯†ç ,æŒ‰ç…§æç¤ºè¾“å…¥ç”¨æˆ·åã€é‚®ç®±ã€å¯†ç å³å¯
python manage.py createsuperuser

# ç™»å½•åå° ç¼–è¾‘ç±»å‹ã€æ ‡ç­¾ã€å‘å¸ƒæ–‡ç« ç­‰
http://æœåŠ¡å™¨ip:8000/admin
```

### END:
æµè§ˆå™¨ä¸­æ‰“å¼€ <http://æœåŠ¡å™¨ip:8000/> å³å¯è®¿é—®

## â“ é—®é¢˜ç›¸å…³
æ¬¢è¿æäº¤é—®é¢˜åˆ° [Issues](https://gitee.com/wu_cl/DBlog/issues) 
æˆ–æˆ‘çš„QQé‚®ç®± `2186656812@qq.com`, æˆ‘å°†åœ¨çœ‹åˆ°é—®é¢˜åç¬¬ä¸€æ—¶é—´å›å¤,
åŒæ—¶æ¬¢è¿æäº¤ requestï¼Œæˆ‘å°†åœ¨å®¡é˜…å¹¶æµ‹è¯•åç¬¬ä¸€æ—¶é—´é€šçŸ¥

[comment]: <> (## ğŸ™‡â€ æ„Ÿè°¢)

[comment]: <> (â˜ [jhao104]&#40;https://github.com/jhao104/django-blog&#41;)