<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <link rel="icon" href="../static/image/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="../static/css/main.css">
    <link rel="stylesheet" type="text/css" href="../static/css/reset.css">
    <script src="../static/js/jquery-1.12.4.min.js"></script>
    <script type="text/javascript" src="../static/js/vue-2.5.16.js"></script>
    <script type="text/javascript" src="../static/js/axios-0.18.0.min.js"></script>

</head>
<body class="body_1">
    	<div class="register_con">
            <div class="l_con fl">
            <a class="reg_logo"><img src="../static/image/test.png"></a>
                <div class="reg_slogan">注册即是  ·  巅峰</div>
                <div class="reg_banner"></div>
            </div>
            <div class="r_con fr">
			    <div class="reg_title clearfix">
				<h1>用户注册</h1>
				<a href="/login/">登录</a>
			    </div>
                <div class="reg_form clearfix" id="app" v-cloak>
				<form method="post" @submit="on_submit">
{#                    {% csrf_token %}#}
                    {{ csrf_input }}
				<ul>
					<li>
						<label>用户名:</label>
						<input type="text" name="user_name" id="user_name" v-model="username" @blur="check_username">
						<span class="error_tip" v-show="error_name">[[ error_name_message ]]</span>
					</li>
					<li>
						<label>密码:</label>
						<input type="password" name="pwd" id="pwd" v-model="password" @blur="check_pwd">
						<span class="error_tip" v-show="error_password">[[ error_password_message ]]</span>
					</li>
					<li>
						<label>确认密码:</label>
						<input type="password" name="cpwd" id="cpwd" v-model="password2" @blur="check_cpwd">
						<span class="error_tip" v-show="error_check_password">[[ error_password2_message ]]</span>
					</li>
					<li>
						<label>手机号:</label>
						<input type="text" name="phone" id="phone" v-model="mobile" @blur="check_phone">
						<span class="error_tip" v-show="error_phone">[[ error_phone_message ]]</span>
					</li>
                    <li>
						<label>图形验证:</label>
						<input type="text" name="image_code" id="pic_code" class="msg_input" v-model="image_code"
                               @blur="send_check_image_code">
                        <img :src="image_code_url" alt="图形验证码" class="pic_code" @click="generate_image_code">
                        <span class="error_tip3" v-show="error_image_code">[[ error_image_code_message ]]</span>

					</li>
					<li class="agreement">
						<input type="checkbox" name="allow" id="allow" checked="checked" v-model="allow" @click="click_allow">
						<label>同意”用户使用协议“</label>
                        <span class="error_tip" v-show="error_allow">[[ error_allow_message ]]</span>
                        {% if register_errmsg %}
                            <span class="error_tip3">{{ register_errmsg }}</span>
                        {% endif %}
					</li>
					<li class="reg_sub">
						<input type="submit" value="注 册">
					</li>
				</ul>
				</form>
			</div>

            </div>
		</div>
        <script type="text/javascript" src="../static/js/register.js"></script>
</body>
</html>